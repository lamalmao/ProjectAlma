<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="main_modale.css"/>
    <link rel="stylesheet" href="/public/styles/Css_News.css">
</head>
<body>
<nav>
    <div class="nav_left">
        <img src="../images/logo3.png" class="logo">

    </div>
    <div class="nav-right">
        <div class="search-box">
            <img src="../images/search.png" alt=""> <!-- Иконка лупы -->
            <input type="text" placeholder="Search">
        </div>
        <div class="nav-user-icon online" id="settings-menu" onclick="settingsMenuToggle()">
            <img src="../images/profile-pic.png"> <!-- Икoнка юзера -->
        </div>
    </div>
    <!---------------------- settings-menu------------------------>
    <div class="settig-menu">
        <div class="setting-menu-inner">
            <div class="user-profile">
                <img src="../images/profile-pic.png">
                <div>
                    <p>Ф.И.О</p>
                    <a href="#">Админ</a>
                </div>
            </div>

            <hr>

            <div class="user-profile">
                <img src="../images/profile-study.png">
                <div>
                    <p>Расписание</p>
                    <a href="#">Здесь вы можете посмотреть расписание своей группы</a>
                </div>
            </div>

            <hr>

            <div class="settings-links">
                <img src="../images/group.png" class="settings-icon">
                <a href="#">Профиль <img src="../images/arrow.png" width="10px"></a>
            </div>

            <div class="settings-links">
                <img src="../images/feedback.png" class="settings-icon">
                <a href="#">Новости<img src="../images/arrow.png" width="10px"></a>
            </div>

            <div class="settings-links">
                <img src="../images/logout.png" class="settings-icon">
                <a href="#">Выход <img src="../images/arrow.png" width="10px"></a>
            </div>
        </div>
    </div>
</nav>

<div class="tamlir" align-items="center">
    <h1>Расписание кинуть эксель</h1>
    <form action="/testpost" method="post" enctype="multipart/form-data">
        <label>Файл</label><br>
        <input type="file" name="filedata" /><br><br>
        <input type="submit" value="отправить в базу" />
    </form>
</div>

<h1>Письма полученные админами от студентов</h1>
<div class="buttons">
    <div class="buttons__flex">
        <div class="buttons__button buttons__button_two">Письмо 1</div>
        <div class="buttons__button buttons__button_two">Письмо 2</div>
        <div class="buttons__button buttons__button_two">Письмо 3</div>
    </div>
</div>

<div></div>
<div class="modal" data-modal="two">
    <div class="modal__wrapper">
        <div class="modal__body">
            <div class="modal__inner">
                <div class="modal__close">Close</div>
                <div class="modal__title">Письмо студента</div>
                <div class="modal__text">Текст письма </div>
            </div>
        </div>
    </div>
</div>
<script src="css_script.js"></script>


























    <h1>Список Пользователей</h1>
            <input id = 'id' placeholder = 'ID'>
            <input id = 'name' placeholder = 'ФИО'>
            <input id = 'group' placeholder = 'Группа'>
            <input id = 'number' placeholder = 'Номер зачётки'>
            <input id = 'email' placeholder = 'Электронная почта'>
            <input id = 'login' placeholder = 'Логин'>
            <input id = 'password' placeholder = 'Пароль'>
            <input type = 'button' id = 'submit' value = 'Изменить'>
            <input type = 'button' id = 'delete' value = 'Удалить'>
            <input type = 'button' id = 'adding' value = 'Добавить'>
            <input type = 'button' id = 'block' value = 'Блокировать/разблокировать'>
        <table id = 'users'>
            <tr>
                <th>ID</th>
                <th>ФИО</th>
                <th>Группа</th>
                <th>Номер зачётки</th>
                <th>Почта</th>
                <th>Логин</th>
                <th>Пароль</th>
                <th>Роль</th>
                <th>Блокировка</th>
            </tr>
            <tr>
                <td>1</td>
                <td>Прокопенко А. В.</td>
                <td>ИС-21</td>
                <td>148869</td>
                <td>morkt111@yandex.ru</td>
                <td>iramorktum</td>
                <td>qwerty</td>
                <td>admin</td>
                <td>нет</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Прокопенко А. В.</td>
                <td>ИС-21</td>
                <td>148869</td>
                <td>morkt111@yandex.ru</td>
                <td>iramorktum</td>
                <td>qwerty</td>
                <td>admin</td>
                <td>нет</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Алексеенко А. В.</td>
                <td>ВМО-21</td>
                <td>1234869</td>
                <td>akimcom2@yandex.ru</td>
                <td>rsgvtrbtm</td>
                <td>qwerty</td>
                <td>student</td>
                <td>нет</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Подрез К. В.</td>
                <td>ВМО-21</td>
                <td>218549</td>
                <td>podrez7474@yandex.ru</td>
                <td>cuck_old</td>
                <td>staraya_padla</td>
                <td>admin</td>
                <td>нет</td>
            </tr>
        </table>
        <style>
            #users {
                border-collapse: collapse;
            }

            td, th {
                border: 1px solid black;
                text-align: center;
                padding: 5px;
            }

            th {
                background-color: rgb(95, 162, 250);
            }

            tr:nth-child(2n + 1) {
                background-color: rgb(217, 233, 255);
            }
        </style>
        <script>
            let trs = document.querySelectorAll('tr'),
                users = document.querySelector('#users'),
                id = document.querySelector('#id'),
                name = document.querySelector('#name'),
                group = document.querySelector('#group'),
                number = document.querySelector('#number'),
                email = document.querySelector('#email'),
                login = document.querySelector('#login'),
                password = document.querySelector('#password'),
                submit = document.querySelector('#submit'),
                del = document.querySelector('#delete'),
                block = document.querySelector('#block');
                add = document.querySelector('#adding');
            trs = Array.from(trs);
            users.onclick = function() {
                if (trs.indexOf(event.target) != 0) {
                    let user = event.target.parentNode.children;
                    id.value = user[0].innerHTML;
                    name.value = user[1].innerHTML;
                    group.value = user[2].innerHTML;
                    number.value = user[3].innerHTML;
                    email.value = user[4].innerHTML;
                    login.value = user[5].innerHTML;
                    password.value = user[6].innerHTML;
                }
            };
            submit.onclick = function() {
                let num = id.value;
                for (let i = 0; i < trs.length - 1; i++) {
                    if (trs[i + 1].children[0].innerHTML == num) {
                        trs[i + 1].children[1].innerHTML = name.value;
                        trs[i + 1].children[2].innerHTML = group.value;
                        trs[i + 1].children[3].innerHTML = number.value;
                        trs[i + 1].children[4].innerHTML = email.value;
                        trs[i + 1].children[5].innerHTML = login.value;
                        trs[i + 1].children[6].innerHTML = password.value;
                    };
                };
            };
            del.onclick = function() {
                let num = id.value;
                for (let i = 0; i < trs.length - 1; i++) {
                    if (trs[i + 1].children[0].innerHTML == num) {
                        trs[i + 1].remove();
                    };
                };
            };
            block.onclick = function() {
                let num = id.value;
                for (let i = 0; i < trs.length - 1; i++) {
                    if (trs[i + 1].children[0].innerHTML == num) {
                        if (trs[i + 1].children[7].innerHTML == 'нет') {
                            trs[i + 1].children[7].innerHTML = 'да';
                        } else {
                            trs[i + 1].children[7].innerHTML = 'нет';
                        };
                    };
                };
            };
            add.onclick = function() {
                let tr = document.createElement('tr'),
                    trText;
                trText = '<td>' + id.value + '</td>';
                trText += '<td>' + name.value + '</td>';
                trText += '<td>' + group.value + '</td>';
                trText += '<td>' + number.value + '</td>';
                trText += '<td>' + email.value + '</td>';
                trText += '<td>' + login.value + '</td>';
                trText += '<td>' + password.value + '</td>';
                trText += '<td>student</td>';
                trText += '<td>нет</td>';
                tr.innerHTML = trText;
                users.append(tr);
            };
        </script>
<script>src="css_script.js"</script>
    </body>
</html>